<!doctype html>
<html lang="en">

<!-- Head -->

<head>
  <!-- Page Meta Tags-->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="keywords" content="">

  <!-- Custom Google Fonts-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;600&family=Roboto:wght@300;400;700&display=auto"
    rel="stylesheet">

  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180"
    href="{{ url_for('static', filename='images/favicon/apple-touch-icon.png') }}">
  <link rel="icon" type="image/png" sizes="32x32"
    href="{{ url_for('static', filename='images/favicon/favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16"
    href="{{ url_for('static', filename='images/favicon/favicon-16x16.png') }}">
  <link rel="mask-icon" href="{{ url_for('static', filename='images/favicon/safari-pinned-tab.svg') }}" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">


  <!-- Vendor CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/libs.bundle.css') }}" />

  <!-- Main CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/theme.bundle.css') }}" />



  <!-- Fix for custom scrollbar if JS is disabled-->
  <noscript>
    <style>
      /**
          * Reinstate scrolling for non-JS clients
          */
      .simplebar-content-wrapper {
        overflow: auto;
      }
    </style>
  </noscript>

  <!-- Page Title -->
  <title>location de voiture</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">


</head>

<body class="">






  <!-- Navbar -->
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white flex-column border-0  ">

  </nav>
  <!-- / Navbar--> <!-- / Navbar-->

  <!-- Main Section-->
  <section class="mt-0 ">
    <!-- Page Content Goes Here -->

    <!-- Breadcrumbs-->
    <div class="bg-dark py-6">
      <div class="container-fluid">
        <nav class="m-0" aria-label="breadcrumb">
          <ol class="breadcrumb m-0">
            <h3 class="breadcrumb-item  breadcrumb-light active" aria-current="page">location de voiture</h3>
          </ol>
        </nav>
      </div>
    </div>
    <!-- / Breadcrumbs-->


    <div class="container-fluid mt-5">

      <!-- Product Top Section-->
      <div class="row g-9" data-sticky-container>

        <!-- Immagini Prodotto-->
        {% if success_message %}
        <div class="alert alert-success" role="alert" style="position:relative; left:0px; top:-120px; font-size:1.2rem; font-weight:500;">
          <i class="ri-check-line" style="font-size:1.5rem; color:#198754; vertical-align:middle;"></i>
          {{ success_message }}
        </div>
        {% endif %}
        {% if error_message %}
        <div class="alert alert-danger" role="alert">
          {{ error_message }}
        </div>
        {% endif %}
        {% if auto %}
        <div class="col-12 col-md-6 col-xl-7">
          <div class="row g-3 justify-content-center" data-aos="fade-right">
            <div class="col-12 d-flex justify-content-center">
              <picture>
                <img class="img-fluid car-image-custom" data-zoomable
                  src="{{ url_for('static', filename='images/cars/'+auto.image) }}"
                  alt="{{ auto.modello }} {{ auto.marca }}">
              </picture>
            </div>
          </div>
          <style>
            .car-image-custom {
              display: block;
              margin: 0 auto 18px auto;
              max-width: 420px;
              width: 100%;
              height: 240px;
              object-fit: cover;
              border-radius: 14px;
              box-shadow: 0 2px 16px rgba(0,0,0,0.10);
              background: #fff;
            }
            @media (max-width: 900px) {
              .car-image-custom { max-width: 100%; height: 180px; }
            }
            @media (max-width: 600px) {
              .car-image-custom { height: 120px; }
            }
          </style>
          <!-- Info auto visibili -->
          <div class="car-info-box mt-4 p-4 rounded shadow" style="background: #f8f9fa;">
            <div class="row g-3 align-items-center">
              <div class="col-6 col-md-3 text-center">
                <div class="info-icon mb-2" style="font-size:2.2rem;color:#007bff;"><i class="ri-car-line"></i></div>
                <div class="fw-bold">Modello</div>
                <div>{{auto.modello}}</div>
              </div>
              <div class="col-6 col-md-3 text-center">
                <div class="info-icon mb-2" style="font-size:2.2rem;color:#007bff;"><i class="ri-building-2-line"></i></div>
                <div class="fw-bold">Marca</div>
                <div>{{auto.marca}}</div>
              </div>
              <div class="col-6 col-md-3 text-center">
                <div class="info-icon mb-2" style="font-size:2.2rem;color:#007bff;"><i class="ri-hashtag"></i></div>
                <div class="fw-bold">Targa</div>
                <div>{{auto.targa}}</div>
              </div>
              <div class="col-6 col-md-3 text-center">
                <div class="info-icon mb-2" style="font-size:2.2rem;color:#007bff;"><i class="ri-calendar-2-line"></i></div>
                <div class="fw-bold">Anno</div>
                <div>{{auto.anno}}</div>
              </div>
            </div>
            <!-- Descrizione rimossa come richiesto -->
          </div>
        </div>
        <!-- /Immagini Prodotto e Info-->

        <!-- Informazioni Prodotto-->
        <div class="col-12 col-md-6 col-lg-5">
          <div class="sticky-top top-5">
            <div class="pb-3" data-aos="fade-in">
              <a href="/" class="btn btn-outline-primary mb-3">&larr; Torna alla Home</a>
              <h1 class="mb-1 fs-2 fw-bold">{{auto.modello}} {{auto.marca}}</h1>
              <div class="d-flex justify-content-between align-items-center">
                <p class="fs-4 m-0">{{auto.prezzo}} â‚¬/giorno</p>
              </div>
              <p class="mt-2">{{auto.descrizione}}</p>
              <!-- Targa e Anno rimossi dalla prenotazione, restano nella tabella sotto -->

              <form action="/location_car/{{ auto._id }}" method="POST">
                <div class="mb-3">
                  <label for="date_debut" class="form-label">Data inizio</label>
                  <input type="date" class="form-control" id="date_debut" name="date_debut">
                </div>
                <div class="mb-3">
                  <label for="date_fin" class="form-label">Data fine</label>
                  <input type="date" class="form-control" id="date_fin" name="date_fin">
                </div>
                <button type="submit" class="btn btn-dark w-100 mt-4 mb-0 hover-lift-sm hover-boxshadow">Prenota</button>
              </form>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
      <!-- / Product Top Section-->

      <div class="row g-0">




      </div>

    </div>

    <!-- /Page Content -->
  </section>
  <!-- / Main Section-->

  <!-- Footer -->
  <footer class="border-top py-5 mt-4  ">
    <div class="container-fluid">
      <div class="d-flex justify-content-between align-items-center flex-column flex-lg-row">
        <div class="d-flex align-items-center justify-content-end flex-column flex-lg-row">
          <p class="small m-0 text-center text-lg-start">&copy; 2023 CarRentingApp</p>
        </div>
      </div>
    </div>




  </footer> <!-- / Footer-->

  <!-- Theme JS -->



  <script src=" {{ url_for('static', filename='js/vendor.bundle.js') }}"></script>
  <script src=" {{ url_for('static', filename='js/theme.bundle.js') }}"></script>




  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>



  <script>
    // Imposta la data minima per oggi lato JS (fallback se il template non la imposta)
    document.addEventListener('DOMContentLoaded', function() {
      var today = new Date();
      var yyyy = today.getFullYear();
      var mm = String(today.getMonth() + 1).padStart(2, '0');
      var dd = String(today.getDate()).padStart(2, '0');
      var minDate = yyyy + '-' + mm + '-' + dd;
      var dateDebut = document.getElementById('date_debut');
      var dateFin = document.getElementById('date_fin');
      if (dateDebut) dateDebut.setAttribute('min', minDate);
      if (dateFin) dateFin.setAttribute('min', minDate);

      // Quando cambia la data di inizio, aggiorna la data minima di fine
      if (dateDebut && dateFin) {
        dateDebut.addEventListener('change', function() {
          if (dateDebut.value) {
            dateFin.min = dateDebut.value;
            if (dateFin.value < dateDebut.value) {
              dateFin.value = dateDebut.value;
            }
          } else {
            dateFin.min = minDate;
          }
        });
      }
    });
    function updateClientInfo() {
      var clientSelect = document.getElementById("client");
      var telephoneInput = document.getElementById("telephone");
      var emailInput = document.getElementById("email");
      var telephoneLabel = document.getElementById("telephoneLabel");
      var emailLabel = document.getElementById("emailLabel");

      var selectedOption = clientSelect.options[clientSelect.selectedIndex];
      var telephone = selectedOption.getAttribute("data-telephone");
      var email = selectedOption.getAttribute("data-email");

      if (telephone && email) {
        telephoneInput.value = telephone;
        emailInput.value = email;
        telephoneLabel.style.display = "block";
        emailLabel.style.display = "block";
        telephoneInput.style.display = "block";
        emailInput.style.display = "block";
      } else {
        telephoneInput.value = "";
        emailInput.value = "";
        telephoneLabel.style.display = "none";
        emailLabel.style.display = "none";
        telephoneInput.style.display = "none";
        emailInput.style.display = "none";
      }
    }


  </script>




</body>

</html>